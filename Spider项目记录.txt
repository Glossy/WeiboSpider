-------------------------------2017.6.8--------------------------------------------------
项目基本的架构还没想好，用java还是python还没确定。万事开头难，搜集一天资料。最好找到有最近更新过的github项目follow。
打算使用模拟浏览器的策略来进行微博的爬取，因为虽然微博提供了相应的api来获取公开微博，但是它的api原理是一个HTTP轮询(POLLING)协议，不是即时推送(realtime push)协议。因此即使增大刷新频率也无法完全达到即时获得最新信息效果。所以微博官方推荐的更新频率为2-3分钟一次，要在短时间内获取大量的微博数据显然不可以用调用api的方式。


-------------------------------2017.6.9--------------------------------------------------
打算使用python语言编写此项目。因为github上的微博爬虫项目多为python语言编写，并且我找到了一个质量不错的项目follow  https://github.com/ResolveWang/WeiboSpider
该项目实现了包括用户信息、用户主页所有微博、微博搜索、微博评论和微博转发关系抓取等。最重要的是使用了python3并且现在在持续更新中。
项目为分布式爬虫，也支持单机单节点爬取。原作者使用了云主机，我也打算用学生账户来申请两个云主机来进行爬取。

第一天上手读源码，感觉python与java源码阅读上的感觉区别在于读java代码时对于用户定义类便于查找阅读，在python中一个函数返回的变量不知道这个变量的意义
看了python的基础语法，还有很多包如urlib还不会用

Step1模拟登陆
写模拟登陆的前提是要分析并理解新浪微博的登录过程，两篇博客介绍的很详细  http://blog.csdn.net/pipisorry/article/details/47904355  http://blog.csdn.net/nobody_wang/article/details/60957893  微博登录的用户名采用base64加密，密码经过了三次rsa加密， 且其中加入了 servertime 和 nonce 的值来干扰


-------------------------------2017.6.10--------------------------------------------------
因为采用了python3 所以 python2中许多库都安装不了，譬如urillib2，所以爬虫的时候直接采用了requests库来获取session
现在许多网站不使用http协议，这点通过winshark抓包证实了，使用的是https(tcp和tslv1.2协议)



-------------------------------2017.6.11--------------------------------------------------
前几天都在学习基础知识，感觉项目的进度有点慢，这样的话六月底看不完啊
在wiki上发现了作者的开发记录讲解，感觉容易了不少
http://www.jianshu.com/p/efcf030e68c5	
http://www.jianshu.com/p/816594c83c74
登录部分看懂了一小部分，感觉对于python的基础语法不了解导致切出去查api耗费太多时间
还有python的api跟java比好难看。。。



-------------------------------2017.6.11--------------------------------------------------
关于sso转跳的微博分析
http://blog.csdn.net/pipisorry/article/details/47904355

有一个问题就是在重定向的时候转跳的url后边接的ticket的参数不知道从哪里找，最后通过抓包发现在302前会有一个post操作，在报文中会有参数，所以编程的时候传入就好




-------------------------------2017.6.13--------------------------------------------------
在用户密码加密的JavaScript部分，有两种加密算法，一个是rsa一个是三次hex加密。在rsa加密中，调用了微博的RSAKey.encrypt方法会返回一个十六进制的数据，但是在python中加密完只是返回字节数据Raw Bytes。所以需要转换成十六进制才可以
SHA1加密blog   http://blog.csdn.net/monsion/article/details/7981366
因为采用一种加密方式即可，所以采用的是rsa加密